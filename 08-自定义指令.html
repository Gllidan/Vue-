<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.3 (452832)"/><meta name="author" content="高新强"/><meta name="created" content="2017-04-09 04:54:03 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-04-09 04:54:24 +0000"/><title>08-自定义指令</title></head><body>
<div><br/></div>
<div style="background-color:#ffffff;color:#000000;font-family:'Menlo';font-size:12.0pt;"><br/>
    <span style="color:#15820a;font-style:italic;">/*自定义指令<br/></span><span style="color:#15820a;font-style:italic;">    * 在使用指令时,前面加上v-<br/></span><span style="color:#15820a;font-style:italic;">    * v-red<br/></span><span style="color:#15820a;font-style:italic;">    * */<br/></span><span style="color:#15820a;font-style:italic;">   </span> Vue.<span style="font-style:italic;">directive</span>(<span style="color:#008000;font-weight:bold;">'red'</span>,<span style="color:#000080;font-weight:bold;">function </span>() {<br/>
        <span style="color:#15820a;font-style:italic;">/*在自定义指令当中可以拿到指令所在的标签*/<br/></span><span style="color:#15820a;font-style:italic;">       </span> <span style="color:#000080;font-weight:bold;">this</span>.<span style="color:#660e7a;font-weight:bold;">el</span>.<span style="color:#7a7a43;">style</span>.<span style="color:#660e7a;font-weight:bold;">background </span>= <span style="color:#008000;font-weight:bold;">'red'</span>;<br/>
    });<br/>
<br/>
    <span style="color:#15820a;font-style:italic;">/*自定义指令可以传参数<br/></span><span style="color:#15820a;font-style:italic;">    * 传参的时候要带''<br/></span><span style="color:#15820a;font-style:italic;">    * */<br/></span><span style="color:#15820a;font-style:italic;">   </span> Vue.<span style="font-style:italic;">directive</span>(<span style="color:#008000;font-weight:bold;">'color'</span>,<span style="color:#000080;font-weight:bold;">function</span>(color){<br/>
        <span style="color:#000080;font-weight:bold;">this</span>.<span style="color:#660e7a;font-weight:bold;">el</span>.<span style="color:#7a7a43;">style</span>.<span style="color:#660e7a;font-weight:bold;">background</span>=color;<br/>
    });<br/>
<br/>
<br/>
    <span style="color:#15820a;font-style:italic;">/*自定义元素指令*/<br/></span><span style="color:#15820a;font-style:italic;">   </span> Vue.elementDirective(<span style="color:#008000;font-weight:bold;">'xmg-red'</span>,{<br/>
        <span style="color:#7a7a43;">bind</span>:<span style="color:#000080;font-weight:bold;">function</span>(){<br/>
            <span style="color:#000080;font-weight:bold;">this</span>.<span style="color:#660e7a;font-weight:bold;">el</span>.<span style="color:#7a7a43;">style</span>.<span style="color:#660e7a;font-weight:bold;">background</span>=<span style="color:#008000;font-weight:bold;">'red'</span>;<br/>
        }<br/>
    });<br/>
<br/>
<br/>
<br/>
    <span style="color:#660e7a;font-weight:bold;">window</span>.<span style="color:#7a7a43;">onload </span>= <span style="color:#000080;font-weight:bold;">function </span>() {<br/>
<br/>
        <span style="color:#000080;font-weight:bold;">new </span>Vue({<br/>
            <span style="color:#660e7a;font-weight:bold;">el</span>:<span style="color:#008000;font-weight:bold;">'body'</span>,<br/>
            <span style="color:#660e7a;font-weight:bold;">data</span>:{<br/>
                <span style="color:#660e7a;font-weight:bold;">msg</span>:<span style="color:#008000;font-weight:bold;">'welcome'<br/></span><span style="color:#008000;font-weight:bold;">           </span> }<br/>
        })<br/>
    };</div>
<div><span style="font-size: 12pt;"><span style="font-family: Menlo;"><br/></span></span></div>
<div style="background-color:#ffffff;color:#000000;font-family:'Menlo';font-size:12.0pt;"><span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">span </span><span style="color:#0000ff;background-color:#efefef;font-weight:bold;">v-red</span><span style="background-color:#efefef;">&gt;</span>abcd<span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">span</span><span style="background-color:#efefef;">&gt;</span><br/>
<span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">span </span><span style="color:#0000ff;background-color:#efefef;font-weight:bold;">v-color=</span><span style="color:#008000;background-color:#efefef;font-weight:bold;">"'red'"</span><span style="background-color:#efefef;">&gt;</span>123<span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">span</span><span style="background-color:#efefef;">&gt;</span><br/>
<span style="background-color:#efefef;">&lt;</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">xmg-red</span><span style="background-color:#efefef;">&gt;</span>444<span style="background-color:#efefef;">&lt;/</span><span style="color:#000080;background-color:#efefef;font-weight:bold;">xmg-red</span><span style="background-color:#efefef;">&gt;</span></div>
<div><br/></div>
</body></html>